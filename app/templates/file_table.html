
<h2><span class="glyphicon glyphicon-folder-open"></span>    {{current_folder}}</h2>


<table class="table table-bordered">
            <thead>
                <tr>
                    <th class="col-md-6">File</th>
                    <th class="col-md-2">Size</th>
                    <th class="col-md-1">Select</th>
                </tr>
            </thead>
            <tbody>
                {% for file in files %}
                    <tr>
                        {% if file.isfile %}
                            <td><span class="glyphicon glyphicon-file"></span>   {{file.filename}}</td>
                        {% else %}
                            <td><span class="glyphicon glyphicon-folder-close"></span>   {{file.filename}}</td>
                        {% endif %}
                        <td>{{file.filesize_human}}</td>
                        <td style="text-align:center;">
                                <label class="checkbox">
                                    {% if file.isfile %}
                                        <input type="checkbox"  size={{file.filesize_bytes}} value="{{file.filename}}" class="{{selector_classes.file}}" {{'checked' if file.isselected }}>
                                    {% else %}
                                         <input type="checkbox"  size={{file.filesize_bytes}} value="{{file.filename}}" class="{{selector_classes.folder}}">
                                    {% endif %}
                                </label>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
    </table>

<p class="muted" id="filesize">Total Size Selected: <span id="{{select_size_id}}">0</span></p>
<p>
 <div class="btn-group" role="group">
            <button id=delete_{{side}} class="btn btn-large"><i class="glyphicon glyphicon-trash"></i></button>
     </div>
 </p>
<script>

    //Bindings

    $(".{{selector_classes.file}}").click( function(){
        if( $(this).is(':checked') ){

          select_file('{{side}}',$(this).attr('value'))

        } else {

          deselect_file('{{side}}',$(this).attr('value'))
        }
    });

     $(".{{selector_classes.folder}}").click( function(){

        if( $(this).is(':checked') ){
         set_folder('{{side}}',$(this).attr('value'))
        }

    });

    $("#delete_{{side}}").click( function(){

       $.post("/selectedFiles",{side: "{{side}}"}
        ,function(data,status){

        $("#confirmBody").html(data);
      });

       $('#confirmDialogYes').unbind('click');
       $('#confirmDialogYes')[0].setAttribute('onclick','deleteSelectedFiles("{{side}}")');
       $("#confirmDialogYes").val("{{side}}");
       $('#confirmDialog').modal('show');


    });


  function deleteSelectedFiles(side){

    alert('Time to delete!'+ side);
  }

</script>